Ты эксперт по методологии Theory of Constraints (TOC, Теория ограничений Голдратта).

Твоя задача: извлечь из предоставленного текста ВСЕ правила, принципы и рекомендации применения методологии.

КОНТЕКСТ:
{context}

ТРЕБОВАНИЯ К ИЗВЛЕЧЕНИЮ:

1. Найди все правила, которые описывают:
   - Принципы работы методологии
   - Условия применения инструментов
   - Ограничения и предостережения
   - Best practices и рекомендации
   - Логические правила принятия решений
   - Критерии выбора действий

2. Для каждого правила извлеки:
   - Название/формулировка правила
   - Область применения (где используется)
   - Обоснование (почему важно)
   - Последствия нарушения (что будет, если не следовать)
   - Связь с другими правилами/концепциями

3. Обрати внимание на:
   - Правила управления буферами
   - Принципы определения ограничений
   - Правила приоритизации продукции
   - Условия использования DBR
   - Логика мыслительных процессов
   - Критерии принятия инвестиционных решений

ФОРМАТ ОТВЕТА (JSON):

```json
[
  {
    "name": "Название/формулировка правила",
    "type": "principle/constraint/recommendation/decision_rule",
    "application_area": "Область применения",
    "description": "Подробное описание правила",
    "rationale": "Почему это правило важно",
    "consequences_of_violation": "Что произойдет при нарушении",
    "related_concepts": ["Связанная концепция 1", "Связанная концепция 2"],
    "examples": ["Пример применения"],
    "page_references": [100, 101]
  }
]
```

ПРИМЕРЫ (для референса, не копируй их напрямую):

```json
[
  {
    "name": "Час, потерянный на ограничении, - это час, потерянный всей системой",
    "type": "principle",
    "application_area": "Управление ограничениями системы",
    "description": "Любая потеря времени на ограничении (узком месте) напрямую снижает производительность всей системы, так как ограничение определяет максимальный выход",
    "rationale": "Ограничение - это единственный ресурс, который определяет пропускную способность системы. Все остальные ресурсы имеют избыточную мощность",
    "consequences_of_violation": "Снижение общего throughput системы, невыполнение плана продаж, упущенная прибыль",
    "related_concepts": ["Ограничение системы", "Производительность (Throughput)", "Подчинение системы ограничению"],
    "examples": ["Если станок-ограничение простаивает 1 час, вся фабрика теряет производительность на 1 час"],
    "page_references": [45, 46]
  },
  {
    "name": "Приоритизация продукции по T/CU",
    "type": "decision_rule",
    "application_area": "Планирование производства и управление продуктовым миксом",
    "description": "При планировании производства продукты следует ранжировать по показателю T/CU (throughput на единицу времени ограничения). Продукты с высоким T/CU производятся в первую очередь",
    "rationale": "Максимизирует throughput системы за счет оптимального использования самого узкого места",
    "consequences_of_violation": "Субоптимальное использование ограничения, снижение общей прибыльности",
    "related_concepts": ["Throughput", "T/CU", "Управление ограничением"],
    "examples": ["Если продукт A дает T/CU=500 руб./мин, а продукт B дает 300 руб./мин, сначала производим A"],
    "page_references": [89, 90, 91]
  },
  {
    "name": "Буфер времени должен защищать от 99% вариабельности",
    "type": "recommendation",
    "application_area": "Управление буферами в DBR",
    "description": "Размер буфера времени следует устанавливать таким образом, чтобы он поглощал большую часть (99%) естественной вариабельности процесса",
    "rationale": "Балансирует защиту от задержек и длительность производственного цикла",
    "consequences_of_violation": "Слишком маленький буфер - частые остановки ограничения. Слишком большой - излишний lead time и замороженные средства",
    "related_concepts": ["DBR", "Управление буферами", "Вариабельность процесса"],
    "examples": ["Для процесса с вариабельностью ±2 дня, буфер = 6 дней"],
    "page_references": [72, 73]
  }
]
```

ВАЖНО:
- Извлекай ТОЛЬКО правила, которые явно сформулированы в тексте
- НЕ придумывай правила - используй точные формулировки из книги
- Различай типы: принципы (общие), ограничения (что нельзя), рекомендации (best practices), правила решений (когда делать A или B)
- Сохраняй логическую связь с другими концепциями методологии
- Обрати внимание на афоризмы и ключевые утверждения Голдратта

Верни только JSON без дополнительных комментариев.
